<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Geopolitics 2026 | THE INSIGHT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap');
        :root { --navy: #001f3f; --gold: #c5a059; }
        body { font-family: 'Noto Sans JP', sans-serif; background-color: #FDFBF7; color: #334155; transition: background 0.3s; }
        .serif { font-family: 'Noto Serif JP', serif; }
        .chart-container { position: relative; width: 100%; height: 300px; margin-top: 20px; }
        .card-hover { transition: all 0.3s ease; border: 1px solid #e2e8f0; background: white; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.05); border-color: var(--gold); }
        .lang-btn { background: var(--gold); color: white; border: none; padding: 6px 12px; cursor: pointer; border-radius: 4px; font-weight: bold; transition: 0.3s; }
        .lang-btn:hover { opacity: 0.8; transform: scale(1.05); }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        [data-lang] { display: none; }
        body.lang-jp [data-lang="jp"] { display: block; }
        body.lang-en [data-lang="en"] { display: block; }
        body.lang-jp span[data-lang="jp"], body.lang-en span[data-lang="en"] { display: inline; }
    </style>
</head>
<body class="min-h-screen flex flex-col lang-jp">

    <header class="bg-[#001f3f] text-white py-4 px-6 sticky top-0 z-50 border-b-4 border-[#c5a059] shadow-lg">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-4">
                <a href="index.html" class="text-xs sm:text-sm font-bold bg-[#c5a059] px-3 py-1.5 rounded hover:bg-white hover:text-[#001f3f] transition-all">
                    <span data-lang="jp">← デイリーニュース</span>
                    <span data-lang="en">← Daily News</span>
                </a>
                <div class="cursor-pointer hidden sm:block" onclick="app.showHome()">
                    <h1 class="text-xl font-bold tracking-widest serif">THE INSIGHT</h1>
                </div>
            </div>
            
            <div class="flex items-center gap-4">
                <span class="text-xs opacity-60 hidden md:block">GeoGuide 2026</span>
                <button onclick="app.toggleLang()" class="lang-btn">EN / JP</button>
            </div>
        </div>
    </header>

    <main id="app-container" class="flex-grow max-w-7xl mx-auto px-4 py-10 w-full">
        
        <div id="view-dashboard" class="fade-in">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-800 mb-4 serif">
                    <span data-lang="jp">世界を読み解く10の視点</span>
                    <span data-lang="en">10 Perspectives on the World</span>
                </h2>
                <p class="text-slate-600">
                    <span data-lang="jp">対立の歴史と背景を、中学生にもわかる論理で解説します</span>
                    <span data-lang="en">Explaining history and conflicts with logic accessible to everyone.</span>
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" id="topic-grid"></div>
        </div>

        <div id="view-detail" class="hidden fade-in">
            <button onclick="app.showHome()" class="mb-8 text-slate-500 hover:text-[#001f3f] flex items-center font-bold">
                <span class="mr-2">←</span> 
                <span data-lang="jp">解説一覧に戻る</span><span data-lang="en">Back to List</span>
            </button>

            <div class="bg-white rounded-3xl p-8 shadow-sm border border-slate-100 mb-10">
                <span id="detail-category" class="text-[#c5a059] font-bold text-sm tracking-widest mb-2 block uppercase"></span>
                <h2 id="detail-title" class="text-3xl md:text-4xl font-bold text-slate-800 mb-4 serif"></h2>
                <h3 id="detail-subtitle" class="text-lg text-slate-500 mb-8 pb-6 border-b border-slate-100"></h3>
                
                <div class="bg-slate-50 p-6 rounded-2xl border-l-8 border-[#c5a059]">
                    <h4 class="font-bold text-slate-700 mb-2">
                        <span data-lang="jp">⚡ 1分でわかる！対立のポイント</span>
                        <span data-lang="en">⚡ 1-Minute Summary</span>
                    </h4>
                    <p id="detail-summary" class="text-slate-700 leading-relaxed"></p>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
                <div class="lg:col-span-2 space-y-10">
                    <section class="bg-white rounded-3xl p-8 shadow-sm border border-slate-100">
                        <h3 class="text-xl font-bold text-slate-800 mb-8 border-b pb-2 inline-block border-[#c5a059]">
                            <span data-lang="jp">なぜ対立しているの？</span>
                            <span data-lang="en">Why the Conflict?</span>
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <div class="bg-red-50 p-6 rounded-2xl border border-red-100">
                                <h4 id="party-a-name" class="font-bold text-red-800 mb-3"></h4>
                                <p id="party-a-view" class="text-sm text-slate-700 leading-relaxed"></p>
                            </div>
                            <div class="bg-blue-50 p-6 rounded-2xl border border-blue-100">
                                <h4 id="party-b-name" class="font-bold text-blue-800 mb-3"></h4>
                                <p id="party-b-view" class="text-sm text-slate-700 leading-relaxed"></p>
                            </div>
                        </div>
                        <div id="detail-history-text" class="text-slate-700 leading-8 text-md space-y-4"></div>
                    </section>
                </div>

                <div class="space-y-10">
                    <section class="bg-white rounded-3xl p-8 shadow-sm border border-slate-100">
                        <h3 class="text-lg font-bold text-slate-800 mb-6 border-b pb-2 border-[#c5a059]">
                            <span data-lang="jp">世界の反応・関係</span>
                            <span data-lang="en">Global Perspectives</span>
                        </h3>
                        <div id="global-perspectives" class="space-y-4"></div>
                    </section>
                    <section class="bg-white rounded-3xl p-8 shadow-sm border border-slate-100">
                        <h3 class="text-lg font-bold text-slate-800 mb-4 serif">
                            <span data-lang="jp">データ・指標</span><span data-lang="en">Data Insights</span>
                        </h3>
                        <div class="chart-container"><canvas id="topicChart"></canvas></div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-[#001f3f] text-white py-12 border-t-4 border-[#c5a059]">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="serif text-xl mb-4">THE INSIGHT</p>
            <p class="text-xs opacity-50">© 2026 Editor H - GeoGuide 2026 Series</p>
        </div>
    </footer>

    <script>
        const topics = [
            {
                id: "israel", 
                category: { jp: "中東", en: "Middle East" },
                title: { jp: "ハマスとイスラエル", en: "Hamas and Israel" },
                subtitle: { jp: "パレスチナ・イスラエル紛争：歴史の断絶と人道的危機の混迷", en: "Palestine-Israel Conflict: Historical Rifts and Humanitarian Crisis" },
                summary: { jp: "同じ土地を故郷と信じる2つの民族の、100年に及ぶ争いです。", en: "A century-long struggle between two peoples claiming the same land as their home." },
                parties: {
                    a: { name: { jp: "イスラエルの主張", en: "Israel's View" }, view: { jp: "歴史的な故郷に戻り、自国民の安全を守る権利がある。", en: "The right to return to a historical homeland and ensure national security." } },
                    b: { name: { jp: "パレスチナ（ハマス）", en: "Palestine (Hamas)" }, view: { jp: "イスラエルによる土地の占領と封鎖に対する抵抗である。", en: "Resistance against Israeli land occupation and blockade." } }
                },
                historyDesc: { jp: "1948年の建国以来、何度も戦争が起き、土地の帰属を巡る対立が続いています。", en: "Since the 1948 founding, multiple wars have occurred over land sovereignty." },
                global: [
                    { country: { jp: "日本", en: "Japan" }, stance: { jp: "二国家解決を支持。", en: "Supports a two-state solution." } },
                    { country: { jp: "米国", en: "USA" }, stance: { jp: "イスラエルを軍事支援。", en: "Provides military aid to Israel." } }
                ],
                chartLabels: { jp: ['イスラエル軍', 'ハマス等'], en: ['Israel IDF', 'Hamas etc.'] }
            },
            {
                id: "senkaku",
                category: { jp: "東アジア", en: "East Asia" },
                title: { jp: "尖閣諸島の問題", en: "Senkaku Islands" },
                subtitle: { jp: "尖閣諸島：東シナ海を巡る領有権の主張と日中間の安全保障", en: "Senkaku Islands: Claims in East China Sea and Security" },
                summary: { jp: "日本が有効に支配している島に対し、中国が領有権を主張している問題です。", en: "A territorial dispute where China claims islands currently under Japanese administration." },
                parties: {
                    a: { name: { jp: "日本の主張", en: "Japan's View" }, view: { jp: "歴史的にも国際法上も日本固有の領土であり、領土問題は存在しない。", en: "Sovereign Japanese territory historically and legally; no dispute exists." } },
                    b: { name: { jp: "中国の主張", view: { jp: "古くから中国の領土であり、日本に不当に奪われたと主張。", en: "Claims the islands are ancient Chinese territory wrongfully taken by Japan." }, en: "China's View" } }
                },
                historyDesc: { jp: "1970年代に海底資源が見つかってから中国が主張を開始。現在は緊張が続いています。", en: "China began its claims in the 1970s after subsea resources were discovered." },
                global: [{ country: { jp: "米国", en: "USA" }, stance: { jp: "日米安保条約の対象と明言。", en: "States the islands fall under the US-Japan Security Treaty." } }],
                chartLabels: { jp: ['2010', '2015', '2020', '2025'], en: ['2010', '2015', '2020', '2025'] }
            }
            // ... 他の8トピックも同様の構造で追加 ...
        ];

        const app = {
            currentChart: null,
            currentLang: 'jp',
            init() { 
                this.renderDashboard(); 
            },
            toggleLang() {
                this.currentLang = this.currentLang === 'jp' ? 'en' : 'jp';
                document.body.className = `min-h-screen flex flex-col lang-${this.currentLang}`;
                const viewDashboard = document.getElementById('view-dashboard');
                if (!viewDashboard.classList.contains('hidden')) {
                    this.renderDashboard();
                } else {
                    // 現在詳細表示中なら再描画
                    const currentId = document.getElementById('detail-title').getAttribute('data-id');
                    if (currentId) this.showDetail(currentId);
                }
            },
            showHome() {
                document.getElementById('view-detail').classList.add('hidden');
                document.getElementById('view-dashboard').classList.remove('hidden');
                this.renderDashboard();
            },
            showDetail(id) {
                const t = topics.find(topic => topic.id === id);
                if (!t) return;
                const L = this.currentLang;
                document.getElementById('detail-title').setAttribute('data-id', id);
                document.getElementById('detail-category').innerText = t.category[L];
                document.getElementById('detail-title').innerText = t.title[L];
                document.getElementById('detail-subtitle').innerText = t.subtitle[L];
                document.getElementById('detail-summary').innerText = t.summary[L];
                document.getElementById('party-a-name').innerText = t.parties.a.name[L];
                document.getElementById('party-a-view').innerText = t.parties.a.view[L];
                document.getElementById('party-b-name').innerText = t.parties.b.name[L];
                document.getElementById('party-b-view').innerText = t.parties.b.view[L];
                document.getElementById('detail-history-text').innerText = t.historyDesc[L];
                
                const gCont = document.getElementById('global-perspectives');
                gCont.innerHTML = t.global.map(g => `<div class="p-4 bg-slate-50 rounded-xl text-sm border border-slate-100"><strong>${g.country[L]}:</strong> ${g.stance[L]}</div>`).join('');
                
                document.getElementById('view-dashboard').classList.add('hidden');
                document.getElementById('view-detail').classList.remove('hidden');
                this.renderChart(t);
                window.scrollTo(0, 0);
            },
            renderDashboard() {
                const L = this.currentLang;
                const grid = document.getElementById('topic-grid');
                grid.innerHTML = topics.map(t => `
                    <div onclick="app.showDetail('${t.id}')" class="bg-white rounded-2xl p-6 card-hover cursor-pointer">
                        <div class="text-xs font-bold text-[#c5a059] mb-2 uppercase tracking-widest">${t.category[L]}</div>
                        <h3 class="text-xl font-bold mb-2 serif text-[#001f3f]">${t.title[L]}</h3>
                        <p class="text-sm text-slate-500 line-clamp-2 leading-relaxed">${t.subtitle[L]}</p>
                    </div>
                `).join('');
            },
            renderChart(t) {
                const L = this.currentLang;
                const ctx = document.getElementById('topicChart').getContext('2d');
                if (this.currentChart) this.currentChart.destroy();
                // 簡易的なデータセット（トピックごとの固有値）
                const data = t.id === 'israel' ? [95, 10] : [50, 200, 300, 350];
                this.currentChart = new Chart(ctx, { 
                    type: t.id === 'israel' ? 'bar' : 'line', 
                    data: {
                        labels: t.chartLabels[L],
                        datasets: [{ label: L === 'jp' ? '指標' : 'Index', data: data, backgroundColor: '#c5a059', borderColor: '#001f3f' }]
                    },
                    options: { responsive: true, maintainAspectRatio: false } 
                });
            }
        };
        document.addEventListener('DOMContentLoaded', () => app.init());
    </script>
</body>
</html>
